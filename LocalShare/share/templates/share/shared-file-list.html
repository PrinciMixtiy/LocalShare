{% extends 'base.html' %}

{% load custom_filters %}

{% block title %}
    Shared Files
{% endblock title %}

{% block content %}
<section class="max-w-4xl mx-auto p-4">
    <div
        id="shared-section"
        class="bg-white shadow overflow-hidden sm:rounded-md"
    >
        {% if shared_files %}
        <ul class="divide-y divide-gray-200">
            {% for shared_file in shared_files %}
            <li class="px-6 py-4 flex items-center">
                <div
                    class="flex-shrink-0 h-10 w-10 flex items-center justify-center"
                >
                    <div class="text-gray-400">
                        {% include "icons/file.svg" %}
                    </div>
                </div>
                <div class="ml-4 flex-grow">
                    <p class="text-sm font-medium text-indigo-600">
                        <a href="{{ shared_file.file.url }}" target="_blank">{{ shared_file.file.name|basename }}</a>
                    </p>
                    <p class="text-sm text-gray-500">
                        Shared by {{ shared_file.user.username }}
                    </p>
                </div>
            </li>
            {% endfor %}
        </ul>
        {% else %}
        <p class="px-6 py-4 text-gray-500 italic">
            No files or directories found.
        </p>
        {% endif %}
    </div>
</section>
{% endblock content %}
